<!DOCTYPE html>
<html lang="en">

<!--- Page title --->

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link rel="stylesheet" href="../CSS file/Theetrat.CSS">
    <title>Game Sole|About Us|</title>
</head>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        var value = getCookie("GameSoletoken");
        $.ajax({
            url: '/cookie',
            type: 'POST',
            data: { cookie: value },
            datatype: 'json',
            success: function (data) {
                var obj = JSON.parse(data);
                if (obj.role == "Administator") {
                    $('.Register-navbar').hide();
                    $('.Login-navbar').hide();
                    $('.User-edit').show();
                    $('.Product-edit').show();
                    $('.Logout-navbar').show();
                    document.getElementById("User-email").innerHTML = "<p>" + "Admin: " + obj.email + "</p>";
                } else {
                    $('.Register-navbar').hide();
                    $('.Login-navbar').hide();
                    $('.User-edit').hide();
                    $('.Product-edit').hide();
                    $('.Logout-navbar').show();
                    document.getElementById("User-email").innerHTML = "<p>" + obj.email + "</p>";
                }
            },
            error: function (jqXHR, textStatus, errorThrown) {
                $('.Logout-navbar').hide();
                $('.User-edit').hide();
                $('.Product-edit').hide();
                $('.Register-navbar').show();
                $('.Login-navbar').show();
            }
        });

        $('.Logout-navbar').click(function () {
            document.cookie = "GameSoletoken" + '=; Max-Age=-99999999;';
            location.reload();
        });
    });
    function getCookie(name) {
        let cookie = {};
        document.cookie.split(';').forEach(function (el) {
            let [k, v] = el.split('=');
            cookie[k.trim()] = v;
        })
        return cookie[name];
    }
</script>

<body>
    <header>
        <!--- Contain Web logo, login, and register button link to another page --->
        <div class="Logo-navbar">

            <!--- Web logo link to homepage --->
            <nav class="Homepage-navbar">
                <a href="Homepage.html"><img src="../images/Logo_Rev2.png" /></a>
            </nav>

            <!--- Register logo link to register page--->
            <nav class="Register-navbar">
                <a href="Register.html"><img src="../images/2U Button Yellow Register Idle.png" / alt="back"></a>
                <!--- another version of images to use 'Hover' in CSS -->
                <a href="Register.html"><img src="../images/2U Button Yellow Register.png" / class="img-top" alt="front"></a>
            </nav>

            <!--- Login logo link to Login page--->
            <nav class="Login-navbar">
                <a href="Login.html"><img src="../images/2U Button Cream Idle.png" / alt="back"></a>
                <!--- another version of images to use 'Hover' in CSS -->
                <a href="Login.html"><img src="../images/2U Button Cream Press.png" / class="img-top" alt="front"></a>
            </nav>
            
            <!--- Logout logo to Logout--->
            <nav class="Logout-navbar">
                <a input type="image" name="Logout"><img src="../images/2U Button Red Logout Idle.png" / alt="back"></a>
                <!--- another version of images to use 'Hover' in CSS -->
                <a input type="image" name="Logout"><img src="../images/2U Button Red Logout Press.png" / class="img-top"alt="front"></a>
            </nav>

            <!--- Email of the logged in user--->
            <nav class="User-email" id="User-email">
            </nav>
            </nav>
        </div>
    </header>

    <!---Navigation bar contain Homepage, ShopPage, and About US button link to another page --->
    <nav class="Menu-navbar">

        <!--- Homepage button link to Home page --->
        <nav class="Homepage">
            <a href="Homepage.html"><img src="../images/Navigation Bar Home.png" /></a>
        </nav>

        <!--- Shopping button link to Shop page --->
        <nav class="Shopping">
            <a href="ShopPage.html"><img src="../images/Navigation Bar Shop Idle.png" /></a>
        </nav>

        <!--- About Us button link to About US page --->
        <nav class="About US">
            <a href="AboutUs.html"><img src="../images/Navigation Bar About Us Press.png" /></a>
        </nav>

        <!--- User edit button link to admin edit User page --->
        <nav class="User-edit">
            <a href="User-edit.html"><img src="../images/Navigation Bar User  Idle.png" /></a>
        </nav>

        <!--- Product edit button link to admin edit product page --->
        <nav class="Product-edit">
            <a href="Product-edit.html"><img src="../images/Navigation Bar Product Idle.png" /></a>
        </nav>
    </nav>

    <!--- About US page article --->
    </article>
    <div class="All-member-images">
        <figure>
            <img src="../images/Theetrat.jpg" />
            <figcaption>Theetrat Thongthep</figcaption>
        </figure>

        <!--- Member Description --->
        <article class="Description">
            <h2>Who am I?</h2>
            <p>Hi! my name is Theetrat Thongthep, I am a student studying at Mahidol University Faculty of Information and Communication Technology (ICT Mahidol)</p>
        </article>

        <!--- Member Contact --->
        <article class="Contact">
            <h2>Contact Information</h2>
            <p><a href="tel:+66955738444">Telephone</a></p>
            <p><a href="mailto: theetrat.tho@student.mahidol.ac.th">Email: theetrat.tho@student.mahidol.ac.th</a></p>
        </article>
    </div>
    <!--- About US page article --->
</body>

</html>